<!DOCTYPE html>
<html>
<head>
	<title></title>
	<style type="text/css">
		*{
			margin: 0;
			padding: 0;
		}
		.list{
			width: 200px;
			background: #eee;
			margin: 50px auto;
		}
		ul,li,h2{
			list-style: none;
			padding-left: 5px;
			text-indent: 10px;

		}
		.item{
			
			padding: 10px;
		}
		h2{
			font-size: 16px;
			background: url(../img/qq2.jpg)no-repeat -5px 0px;
		}
		.item{
			display: none;
		}
		.active{
			background: url(../img/qq1.jpg)no-repeat -5px 0px;
		}
		.dj{
			background: red;
			color: #fff;
		}
	</style>
</head>
<body>
<ul class="list">
	<li>
		<h2>我的好友</h2>
		<ul class="item">
			<li>阿三</li>
			<li>阿德</li>
			<li>阿强</li>
			<li>阿飞</li>
		</ul>
	</li>
	<li>
		<h2>我的兄弟</h2>
		<ul class="item">
			<li>大海</li>
			<li>小海</li>
			<li>海哥</li>
			<li>海弟</li>
		</ul>
	</li>
	<li>
		<h2>我的同学</h2>
		<ul class="item">
			<li>张三</li>
			<li>李四</li>
			<li>王麻子</li>
			<li>哈哈哈</li>
		</ul>
	</li>
</ul>
</body>
<script type="text/javascript">
	var oul=document.getElementsByClassName('list');
	var h=document.getElementsByTagName("h2");
	var item=document.getElementsByClassName("item");
	console.log(item);
	//定义一个空数组来装每一项ietm
	var itemlist=[];
	for(var i=0;i<h.length;i++){
		itemlist.push(item[i]);
		//给每个h2添加点击事件
		h[i].index=i;
		h[i].onclick=function(){
			//取下标
			var that=this.index;
			//循环所以的ul，只展开一个
			for(var j=0;j<itemlist.length;j++){
				//隐藏ul下标
				if (j!=that) {
					itemlist[j].style.display="none";
				}
				else{
					//如果当前的ul是关闭，则展开，否则关闭
					if (this.className=="" ){
						item[that].style.display="block";
						h[that].className="active";
					}
					else{
			                
			                item[that].style.display="none";
			                h[that].className="";
		                }

				}

			}
		}

	}
	//给每个li添加点击事件
	var liarr=[]; 
        for(var a=0;a<item.length;a++){
        	var ali=item[a].getElementsByTagName("li");
        	for(var b=0;b<ali.length;b++){
        		liarr.push(ali[b]);
        		ali[b].onclick=function(){
        			for(var c=0;c<liarr.length;c++){
        				if(liarr[c]!=this){
        					liarr[c].className="";

        				}

        			}
        			if(this.className==""){
        				this.className="dj"

        			}else{
        				this.className=""
        			}
        		
        	    }
        		
        	}
        }
</script>
</html>